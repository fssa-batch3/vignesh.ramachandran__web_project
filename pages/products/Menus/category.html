<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,200;1,300;1,400;1,500;1,600;1,700&
    family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700&display=swap"
            rel="stylesheet">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link
            href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,200;1,300;1,400;1,500;1,600;1,700&family=Kurale&display=swap"
            rel="stylesheet">

        <link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">

        <link rel="stylesheet" href="../../../assets/css/normalize.css">

        <link rel="stylesheet" href="../../../assets/css/header.css">
        <link rel="stylesheet" href="../../../assets/css/Menu-CSS/menu-morning.css">

        <link rel="icon" href="../../../assets/img/main-logo.png">

        <title>Category</title>
    </head>

    <body>

        <!-- main starts -->

        <main>
            <!-- sub-menus starts -->
            <div class="ingredient-image">
                <!-- <h2>Breakfast Menu</h2> -->
            </div>

            <section class="menu-list">
                <div class="menu-list_types">
                    <!-- <div class="menu-list_1">
                        <img class="dish" src="../../../assets/img/Dishes/ordinary tiffin.jpg" alt="Ordinary tiffin" />
                        <div>
                        <h2>Ordinary Breakfast</h2>
                        <p>₹150/plate</p>
                        <a href="..//Dishes/morning-ordinary.html"><button class="view-button">View</button></a>
                        </div>
                        </div>
                    
                        <div class="menu-list_1">
                        <img class="dish" src="../../../assets/img/Dishes/special tiffin.jpg" alt="special tiffin" />
                        <div>
                        <h2>Special Breakfast</h2>
                        <p>₹200/plate</p>
                        <a href="../Dishes/morning-special.html"><button class="view-button">View</button></a>
                        </div>
                    
                        </div>
                        <div class="menu-list_1">
                        <img class="dish" src="../../../assets/img/Dishes/vip tiffin.jpg" alt="VIP tiffin" />
                        <div>
                        <h2>VIP Breakfast</h2>
                        <p>₹250/plate</p>
                        <a href="../Dishes/morning-vip.html"><button class="view-button">View</button></a>
                        </div>
                    
                        </div> -->
                </div>
            </section>
            <!-- sub-menus ends -->

        </main>
        <!-- main ends -->

        <!-- script stats -->
        <script src="../../../assets/JS/header.js"></script>

        <script>const menuId = new URLSearchParams(window.location.search).get("menu");

        // let menuData = JSON.parse(localStorage.getItem("menuData"));
        const categoryData = JSON.parse(localStorage.getItem("categoryData"));

        const menuDetails = menuData.find((data) => data.id === menuId);

        // console.log(menuDetails)

        const getCategory = categoryData.filter((data) => data.menuType === menuId);

        // filtering get status=true from menuData
        const categoryDataTrue = getCategory.filter((data) => data.status === "true");

        const ingredientImage = document.querySelector(".ingredient-image");

        const menu_name = document.createElement("h2");
        menu_name.innerText = `${menuDetails.menuName} ` + `Menu`;

        ingredientImage.append(menu_name);

        for (let i = 0; i < categoryDataTrue.length; i++) {
            
          const div_menu_list = document.createElement("div");
          div_menu_list.setAttribute("class", "menu-list_1");

          const img_class = document.createElement("img");
          img_class.setAttribute("class", "dish");
          img_class.setAttribute("src", categoryDataTrue[i].categoryImage);
          // img_class.setAttribute("alt", menu_types[i]["image"]["alt"]);
          div_menu_list.append(img_class);

          const div = document.createElement("div");
          div_menu_list.append(div);

          const h2 = document.createElement("h2");
          h2.innerText = categoryDataTrue[i].categoryName;
          div.append(h2);

          // p = document.createElement("p");
          // p.innerText = "₹" + " " +category["categoryData"][i]["categoryPrice"]
          // div.append(p);

          const a = document.createElement("a");
          a.setAttribute(
    "href",
    `../../products/Dishes/dish.html?menu=${encodeURIComponent(
      menuId
    )}&category=${categoryDataTrue[i].id}`
          );
  div.append(a);

          const button_view_button = document.createElement("button");
          button_view_button.setAttribute("class", "view-button");
          button_view_button.innerText = "View";
          a.append(button_view_button);

  document.querySelector("div.menu-list_types").append(div_menu_list);
        }
    </script>

        <script src="../../../assets/JS/footer.js"></script>

        <!-- script ends -->
    </body>

</html>