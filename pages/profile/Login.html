<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link
            href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,200;1,300;1,400;1,500;1,600;1,700&
    family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700&display=swap"
            rel="stylesheet"
        >

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link
            href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,200;1,300;1,400;1,500;1,600;1,700&family=Kurale&display=swap"
            rel="stylesheet"
        >

        <link
            rel="stylesheet"
            href="https://unpkg.com/boxicons@latest/css/boxicons.min.css"
        >

        <link rel="stylesheet" href="../../assets/css/header.css">
        <link rel="stylesheet" href="../../assets/css/Profile-CSS/login.css">

        <link rel="stylesheet" href="../../assets/css/normalize.css">

        <link rel="icon" href="../../assets/img/main-logo.png">

        <script src="../../assets/JS/register & login.js"></script>
        <title>Log In</title>
    </head>

    <body>

        <!-- main starts -->
        <main>
            <!-- login form starts -->
            <section>
                <form class="login_page" role="form" onsubmit="signIn(event)">
                    <img src="../../assets/img/main-logo.png" alt="company logo">
                    <h2 class="name_login">
                        <span>Log</span> In
                    </h2>

                    <label>Email ID: </label>
                    <input
                        type="email"
                        for="email"
                        placeholder="Enter your email"
                        class="input_box"
                        id="email"
                        pattern="^([a-z]+[a-z0-9_+\-\. ]*[a-z0-9]+)@(gmail|fssa|yahoo|hotmail|outlook)\.(freshworks.com|com|net|org|edu|in)$"
                        required="true"
                    >
                    <label>Password: </label>
                    <input
                        type="password"
                        placeholder="Enter your password"
                        class="input_box"
                        id="password"
                        pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                        title="Must contain at least one number, one uppercase, lowercase and one symbol, and at least 8 or more characters"
                        required="true"
                    >
                    <div id="pattern">
                        <span class="number_pass">Must contain at least one number,</span>
                        <span class="upper_pass">one uppercase,</span>
                        <span class="lower_pass">one lowercase,</span>
                        <span class="symbol_pass">one symbol,</span>
                        <span class="char_pass">and at least 8 or more characters</span>
                    </div>
                    <div class="visible_pass">
                        <input type="checkbox" id="show">
                        <label>Show password</label>
                    </div>

                    <div class="for_button">
                        <button class="btn_login" type="submit">Log in</button>
                    </div>
                    <!-- <a href="./forget_password.html" class="forget_pass">Forget Password?</a> -->
                    <p>
                        New to Website? <a href="./register.html">Create an account</a>
                    </p>
                </form>
            </section>
            <!-- login form ends -->
        </main>
        <!-- main ends -->

        <!-- footer starts -->

        <footer>
            <div class="footer-details">
                <p>
                    Copyright Â© 2021 - 2023 SR Catering - Website Designed By
                    <span>vicky</span>
                </p>
                <p>(+91)6379370482</p>
                <div class="footer-links">
                    <a href="https://www.instagram.com/vicky_sk_forever?r=nametag">
                        <img src="../../assets/img/instagram.jpg" alt="instagram">
                    </a>
                    <a href="https://www.facebook.com/profile.php?id=100011341742455">
                        <img src="../../assets/img/facebook.jpg" alt="facebook link">
                    </a>
                    <a
                        href="https://twitter.com/SRVignesh06?t=zGFf0sZZJa_0oe8XfsLkOQ&s=08"
                    >
                        <img src="../../assets/img/twitter.png" alt="twitter link">
                    </a>
                </div>
            </div>
        </footer>
        <!-- footer ends -->

        <!-- script starts -->
        <script src="../../assets/JS/header.js"></script>

        <script>
      // show password
      const Password = document.querySelector("#password");
      const Checkbox = document.querySelector("#show");

      Checkbox.addEventListener("click", () => {
        const type =
          Password.getAttribute("type") === "password" ? "text" : "password";
        Password.setAttribute("type", type);
      });

      // password pattern recognization
      const password = document.getElementById("password");

      const number_pass = document.querySelector(".number_pass");
      const upper_pass = document.querySelector(".upper_pass");
      const lower_pass = document.querySelector(".lower_pass");
      const symbol_pass = document.querySelector(".symbol_pass");
      const char_pass = document.querySelector(".char_pass");

      password.addEventListener("input", () => {
        const password_value = password.value;

        // check upper case
        const has_upper = /[A-Z]/.test(password_value);
        if (has_upper == true) {
          upper_pass.style.color = "green";
        } else {
          upper_pass.style.color = "var(--second-color)";
        }

        // check lower case
        const has_lower = /[a-z]/.test(password_value);
        if (has_lower == true) {
          lower_pass.style.color = "green";
        } else {
          lower_pass.style.color = "var(--second-color)";
        }

        // check number
        const has_symbol = /[!@#$%^&*_=+-]/.test(password_value);
        if (has_symbol == true) {
          symbol_pass.style.color = "green";
        } else {
          symbol_pass.style.color = "var(--second-color)";
        }

        // check char
        const has_number = /\d/.test(password_value);
        if (has_number == true) {
          number_pass.style.color = "green";
        } else {
          number_pass.style.color = "var(--second-color)";
        }

        // check length
        const char_length = password_value.length >= 8;
        if (char_length == true) {
          char_pass.style.color = "green";
        } else {
          char_pass.style.color = "var(--second-color)";
        }
      });

      // islogged in
      window.addEventListener("popstate", (event) => {
        if (isloggedin()) {
          event.preventDefault();
          window.location.href = `${root}/index.html`;
        }
      });

      function isloggedin() {
        const user_unique = JSON.parse(localStorage.getItem("user_unique"));
        if (user_unique) {
          return true;
        }

        return false;
      }

      if (isloggedin()) {
        window.location.href = `${root}/index.html`;
      }
    </script>

        <!-- script ends -->
    </body>
</html>
